{"version":3,"sources":["index.js"],"names":["_TextAliveApp","TextAliveApp","Player","animateWord","now","unit","contains","document","querySelector","textContent","text","player","app","token","appAuthor","appName","mediaElement","addListener","onAppReady","managed","createFromSongUrl","video","beatId","chordId","repetitiveSegmentId","lyricId","lyricDiffId","onVideoReady","v","w","firstWord","animate","next"],"mappings":";AAAA,IAAAA,EAAmBC,aAAXC,EAAMF,EAANE,OAGFC,EAAc,SAAUC,EAAKC,GAC7BA,EAAKC,SAASF,KAChBG,SAASC,cAAc,SAASC,YAAcJ,EAAKK,OAKjDC,EAAS,IAAIT,EAAO,CACxBU,IAAK,CAAEC,MAAO,oBACdC,UAAW,YACXC,QAAS,WACTC,aAAcT,SAASC,cAAc,YAGvCG,EAAOM,YAAY,CACjBC,WAAY,SAACN,GACNA,EAAIO,SACPR,EAAOS,kBAAkB,6CAA8C,CACrEC,MAAO,CAELC,OAAQ,QACRC,QAAS,QACTC,oBAAqB,QAErBC,QAAS,MACTC,YAAa,SASrBC,aAAc,SAACC,GAGb,IADA,IAAIC,EAAIlB,EAAOU,MAAMS,UACdD,GACLA,EAAEE,QAAU5B,EACZ0B,EAAIA,EAAEG","file":"src.62938096.js","sourceRoot":"..\\src","sourcesContent":["const { Player } = TextAliveApp;\r\n\r\n// 単語が発声されていたら #text に表示する\r\nconst animateWord = function (now, unit) {\r\n  if (unit.contains(now)) {\r\n    document.querySelector(\"#text\").textContent = unit.text;\r\n  }\r\n};\r\n\r\n// TextAlive Player を作る\r\nconst player = new Player({\r\n  app: { token: \"TzeB2jjekneT3Vpj\" },\r\n  appAuthor: \"Synthesis\",\r\n  appName: \"index.js\",\r\n  mediaElement: document.querySelector(\"#media\"),\r\n}); //where the media info will be placed });\r\n\r\nplayer.addListener({\r\n  onAppReady: (app) => {\r\n    if (!app.managed) {\r\n      player.createFromSongUrl(\"http://www.youtube.com/watch?v=a-Nf3QUFkOU\", {\r\n        video: {\r\n          // 音楽地図訂正履歴: https://songle.jp/songs/1688650/history\r\n          beatId: 3818481,\r\n          chordId: 1546157,\r\n          repetitiveSegmentId: 1942135,\r\n          // 歌詞タイミング訂正履歴: https://textalive.jp/lyrics/www.youtube.com%2Fwatch%3Fv=a-Nf3QUFkOU\r\n          lyricId: 50146,\r\n          lyricDiffId: 3143,\r\n        },\r\n      });\r\n    }\r\n    // else {\r\n    //   $(\"#test\").hide();\r\n    // }\r\n  },\r\n  // 動画オブジェクトの準備が整ったとき（楽曲に関する情報を読み込み終わったとき）に呼ばれる\r\n  onVideoReady: (v) => {\r\n    // 定期的に呼ばれる各単語の \"animate\" 関数をセットする\r\n    let w = player.video.firstWord;\r\n    while (w) {\r\n      w.animate = animateWord;\r\n      w = w.next;\r\n    }\r\n  },\r\n});\r\n"]}